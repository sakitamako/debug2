<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Debug JavaScript</title>
    </head>
    <body>
        <h3>＜要望＞</h3>
        <br>
        ・配列sampleArrayA に値が追加されても、プログラムに手を加えなくて済むよう改修してほしい。<br>
        ・現行のJavaScript（次ページ参照）を改修したい。<br>
        ・下記処理は修正しないこと。<br>
        「配列sampleArrayA の初期化」<br>
        「for文の処理の内容」<br>
        「テキストの赤文字部分」<br>
        <br>
        <h1>＜ブラウザに表示したい内容＞</h1>
        <!--
        sampleArrayB[0]: C1
        sampleArrayB[1]: C2
        sampleArrayB[2]: C3
        sampleArrayB[3]: B1
        sampleArrayB[4]: B2
        sampleArrayB[5]: B3
        sampleArrayB[6]: A1
        sampleArrayB[7]: A2
        sampleArrayB[8]: A3
        -->
        <br>
        <script type = "text/javascript">

        //previousValue=初回実行時は、第二引数のinitialValueの値。initialValueが指定されていなければ、配列の0番目の値が該当
        //currentValue=現在の配列の値。初回実行時は、initialValueが指定されている場合、配列の0番目の値。そうでなければ、配列の1番目の値

        //修正していいところ
        //関数名のtoOneDimensionに、入力に相当する引数の値としてpreviousValueとcurrentValueを入力している。
        function toOneDimension(previousValue, currentValue) {

        	//concatメソッドは2以上の配列を結合して新しい配列を作るときに使う、文字列を結合することもできる（対象の配列.concat(結合する配列);）
        	//return currentValue.concat(previousValue); //←これが正解！

            //修正していいところ
            //引数に入っているpreviousValueを、concatでcurrentValueと結合している。
            //この出力に相当するreturnの値をtoOneDimensionに渡している。
        	return previousValue.concat(currentValue);
        }

        //「①配列コンストラクタ」を使う場合は、「new」を使ってArray()の引数へ格納したい文字列を設定する
        //「②配列リテラル」を使う場合は、[ ]を使ってそのまま文字列を設定すればOK！今回はこっち！

        //修正だめ
        //var sampleArrayAで変数宣言をし、同時に ['A1', 'A2', 'A3'],['B1', 'B2', 'B3'],['C1', 'C2', 'C3']の値を代入している。
        var sampleArrayA = [
            ['A1', 'A2', 'A3'],
            ['B1', 'B2', 'B3'],
            ['C1', 'C2', 'C3']];

        //関数の呼び出し、sampleArrayA.reduceのtoOneDimensionをsampleArrayBに代入
        //reduce()は配列に対して適用され、結果を蓄積していくメソッド
        //対象の配列.reduce(コールバック関数);

        //修正していいところ
        //
        var sampleArrayB = sampleArrayA.reduce(toOneDimension);

        //for (初期化式; 条件式; 変化式)
        //①初期化式で変数counterVarに0が代入される、counterVarがsampleArrayB.lengthより小さい場合、
        //length=配列に格納されている要素数

        //修正だめ
        for (var counterVar = 0; counterVar < sampleArrayB.length; counterVar++) {

        	//②下記が実行される
        	//③変化式 counterVar++ が実行されて変数 counterVar の値が 1 となり、for文の2周目の処理に入る

            //修正だめ
            document.write('sampleArrayB['+ counterVar +']:');
            document.write(sampleArrayB[counterVar]);
            document.write('<br/>');

        }

        </script>
    </body>
</html>